<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
$(document).ready(function(){

   // jQuery methods go here...

});

function bind_toggler_to_inlined(call_id){
    toggler = $("#toggler_"+call_id)
    .on("click",
        function(){
        // get corresponding closest container?
        var target = $(this).siblings("#inlined_"+call_id).first();
        if (target.is(":visible")) target.hide();
        else show_inlined(call_id);
        
    } );

    // target = toggler.siblings("#inlined_"+call_id).first();

}

// function show_inlined(callee_line_id, call_id){
    // line = $("#lineID_"+callee_line_id).first();
    // line.children(...)
function show_inlined(call_id){
    toggler = $("#toggler_"+call_id).first();
    inlined = $("#inlined_"+call_id).first();
    code = $("#code_"+call_id).first();
    
    if(inlined.children().length == 0) // if empty
    {
        inlined.append(  code.html() );
    }
    
    inlined.show();
}

</script>
</head>

<body>

<pre id="trace">
    
<span class="line">bla bla
</span>

<span class="line calee" id="lineID_mymodule_123">boo boo
<span class="toggler" id="toggler_X">*</span> 
<span class="toggler" id="toggler_Y">*</span> 

<span class="inlined" id="inlined_X">.X.</span>
<span class="inlined" id="inlined_Y">.Y.</span>
</span>

</pre>

</body>
